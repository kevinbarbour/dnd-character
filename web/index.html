<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D&D 5e Character Creator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üé≤</text></svg>">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">üé≤ D&D Character Creator</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <div class="navbar-nav ms-auto">
                    <a class="nav-link" href="index.html">Home</a>
                    <a class="nav-link" href="characters.html">My Characters</a>
                    <a class="nav-link" href="create.html">Create Character</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <!-- Hero Section -->
                <div class="hero-section text-center mb-5">
                    <h1 class="display-4 mb-3">üó°Ô∏è D&D 5e Character Creator ‚ú®</h1>
                    <p class="lead">Create amazing Dungeons & Dragons characters with full spell selection!</p>
                    <p class="text-muted">Pure client-side application - your characters are saved locally and privately.</p>
                    <div class="mt-4">
                        <a href="create.html" class="btn btn-primary btn-lg me-3">
                            <i class="fas fa-plus"></i> Create New Character
                        </a>
                        <a href="characters.html" class="btn btn-outline-secondary btn-lg">
                            <i class="fas fa-users"></i> View Characters (<span id="character-count">0</span>)
                        </a>
                    </div>
                </div>

                <!-- Features Grid -->
                <div class="row g-4 mb-5">
                    <div class="col-md-4">
                        <div class="feature-card card h-100">
                            <div class="card-body text-center">
                                <div class="feature-icon">üè∞</div>
                                <h5 class="card-title">Complete D&D 5e</h5>
                                <p class="card-text">All official races, classes, and backgrounds from the Player's Handbook.</p>
                                <div class="stats">
                                    <span class="badge bg-primary" id="race-count">0</span> Races
                                    <span class="badge bg-success" id="class-count">0</span> Classes
                                    <span class="badge bg-warning" id="background-count">0</span> Backgrounds
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="feature-card card h-100">
                            <div class="card-body text-center">
                                <div class="feature-icon">‚ú®</div>
                                <h5 class="card-title">Spell Selection</h5>
                                <p class="card-text">Interactive spell selection for all 6 spellcasting classes with authentic D&D spells.</p>
                                <div class="stats">
                                    <span class="badge bg-info" id="spell-count">0</span> Spells Available
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="feature-card card h-100">
                            <div class="card-body text-center">
                                <div class="feature-icon">üíæ</div>
                                <h5 class="card-title">Local Storage</h5>
                                <p class="card-text">Characters saved locally in your browser. Export/import for backup and sharing.</p>
                                <div class="stats">
                                    <span class="badge bg-secondary">Private</span>
                                    <span class="badge bg-secondary">Offline Ready</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Spellcasting Classes -->
                <div class="spellcaster-section mb-5">
                    <h3 class="text-center mb-4">üîÆ Spellcasting Classes</h3>
                    <div class="row g-3">
                        <div class="col-md-6 col-lg-4">
                            <div class="spell-class-card">
                                <div class="class-icon">üßô‚Äç‚ôÇÔ∏è</div>
                                <div class="class-info">
                                    <strong>Wizard</strong>
                                    <small>3 cantrips, 2 spells</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-4">
                            <div class="spell-class-card">
                                <div class="class-icon">‚õ™</div>
                                <div class="class-info">
                                    <strong>Cleric</strong>
                                    <small>3 cantrips, 2 spells</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-4">
                            <div class="spell-class-card">
                                <div class="class-icon">üéµ</div>
                                <div class="class-info">
                                    <strong>Bard</strong>
                                    <small>2 cantrips, 4 spells</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-4">
                            <div class="spell-class-card">
                                <div class="class-icon">üî•</div>
                                <div class="class-info">
                                    <strong>Sorcerer</strong>
                                    <small>4 cantrips, 2 spells</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-4">
                            <div class="spell-class-card">
                                <div class="class-icon">üëπ</div>
                                <div class="class-info">
                                    <strong>Warlock</strong>
                                    <small>2 cantrips, 2 spells</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-4">
                            <div class="spell-class-card">
                                <div class="class-icon">üåø</div>
                                <div class="class-info">
                                    <strong>Druid</strong>
                                    <small>2 cantrips, 2 spells</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions text-center mb-5">
                    <h4>Quick Actions</h4>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-outline-primary" onclick="exportAllCharacters()">
                            <i class="fas fa-download"></i> Export All Characters
                        </button>
                        <button type="button" class="btn btn-outline-secondary" onclick="document.getElementById('import-file').click()">
                            <i class="fas fa-upload"></i> Import Characters
                        </button>
                        <button type="button" class="btn btn-outline-danger" onclick="clearAllData()">
                            <i class="fas fa-trash"></i> Clear All Data
                        </button>
                    </div>
                    <input type="file" id="import-file" accept=".json" style="display: none;" onchange="importCharacters(event)">
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-light mt-5 py-4">
        <div class="container text-center">
            <p>&copy; 2024 D&D Character Creator. Built with ‚ù§Ô∏è for adventurers everywhere!</p>
            <p><small>Dungeons & Dragons content is owned by Wizards of the Coast. This is a fan-made tool.</small></p>
            <p><small>
                <a href="https://github.com/yourusername/dnd-character-creator" class="text-light">
                    <i class="fab fa-github"></i> View on GitHub
                </a>
            </small></p>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/your-kit-id.js" crossorigin="anonymous"></script>
    
    <!-- App Scripts -->
    <script src="js/data/races.js"></script>
    <script src="js/data/classes.js"></script>
    <script src="js/data/backgrounds.js"></script>
    <script src="js/data/spells.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/app.js"></script>
    
    <script>
        // Initialize home page
        document.addEventListener('DOMContentLoaded', function() {
            updateHomepageStats();
        });

        function updateHomepageStats() {
            // Update counts from data
            document.getElementById('race-count').textContent = RACES.length;
            document.getElementById('class-count').textContent = CLASSES.length;
            document.getElementById('background-count').textContent = BACKGROUNDS.length;
            
            // Count total spells
            let totalSpells = 0;
            Object.values(SPELLS).forEach(classSpells => {
                totalSpells += classSpells.cantrips.length + classSpells.firstLevel.length;
            });
            document.getElementById('spell-count').textContent = totalSpells;
            
            // Update character count
            const characters = getCharacters();
            document.getElementById('character-count').textContent = characters.length;
        }

        function exportAllCharacters() {
            const characters = getCharacters();
            if (characters.length === 0) {
                alert('No characters to export!');
                return;
            }
            
            const dataStr = JSON.stringify(characters, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `dnd-characters-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
        }

        function importCharacters(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const importedCharacters = JSON.parse(e.target.result);
                    if (Array.isArray(importedCharacters)) {
                        const existingCharacters = getCharacters();
                        const mergedCharacters = [...existingCharacters, ...importedCharacters];
                        localStorage.setItem('dnd_characters', JSON.stringify(mergedCharacters));
                        updateHomepageStats();
                        alert(`Imported ${importedCharacters.length} characters successfully!`);
                    } else {
                        alert('Invalid file format. Please select a valid character export file.');
                    }
                } catch (error) {
                    alert('Error reading file. Please make sure it\'s a valid JSON file.');
                }
            };
            reader.readAsText(file);
        }

        function clearAllData() {
            if (confirm('Are you sure you want to delete ALL characters? This cannot be undone!')) {
                if (confirm('This will permanently delete all your characters. Are you absolutely sure?')) {
                    localStorage.removeItem('dnd_characters');
                    updateHomepageStats();
                    alert('All character data has been cleared.');
                }
            }
        }
    </script>
</body>
</html>
